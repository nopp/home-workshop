{% extends 'base.html' %}
{% block title %}Editar Peça{% endblock %}
{% block content %}
    <h2 class="center-align">Editar Peça</h2>
    <form method="POST" enctype="multipart/form-data" class="row">
        <!-- Campo Nome da Peça -->
        <div class="input-field col s6">
            <input type="text" id="nome" name="nome" value="{{ peca.nome }}" class="validate" required>
            <label for="nome" class="active">Nome da Peça</label>
        </div>

        <!-- Campo Descrição -->
        <div class="input-field col s6">
            <textarea id="descricao" name="descricao" class="materialize-textarea validate">{{ peca.descricao }}</textarea>
            <label for="descricao" class="active">Descrição</label>
        </div>

        <!-- Campo Estante -->
        <div class="input-field col s4">
            <input type="text" id="estante" name="estante" value="{{ peca.estante }}" class="validate" required>
            <label for="estante" class="active">Estante</label>
        </div>

        <!-- Campo Prateleira -->
        <div class="input-field col s4">
            <input type="text" id="prateleira" name="prateleira" value="{{ peca.prateleira }}" class="validate" required>
            <label for="prateleira" class="active">Prateleira</label>
        </div>

        <!-- Campo Segmento -->
        <div class="input-field col s4">
            <input type="text" id="segmento" name="segmento" value="{{ peca.segmento }}" class="validate" required>
            <label for="segmento" class="active">Segmento</label>
        </div>

        <!-- Campo de Upload de Imagem -->
        <div class="file-field input-field col s12">
            <div class="btn">
                <span>Imagem</span>
                <input type="file" id="imagem" name="imagem" accept="image/*">
            </div>
            <div class="file-path-wrapper">
                <input class="file-path validate" type="text">
            </div>
        </div>

        <!-- Botões de ação -->
        <div class="col s12">
            <button type="submit" class="btn green">Salvar</button>
            <a href="{{ url_for('index') }}" class="btn grey">Voltar</a>
        </div>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializa os textareas
            var textareas = document.querySelectorAll('textarea');
            M.Textarea.init(textareas);

            // Atualiza os campos de texto para garantir que os labels funcionem
            M.updateTextFields();
        });
    </script>
{% endblock %}